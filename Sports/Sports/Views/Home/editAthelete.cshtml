@model Sports.ViewModels.TestSubscriptionVM


<div class="row">
    <div class="col-md-12">
        <form>
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" value="@Model.TestSubscriptionID" asp-for="TestSubscriptionID" />
            <input type="hidden" value="@Model.TestID" asp-for="TestID" id="testId"/>
            <div class="form-group">
                <select asp-for="AtheleteId"
                        class="form-control"
                        asp-items="@(new SelectList(ViewBag.ListOfAthletes,"AtheleteId", "Ranking"))"></select>
            </div>
            <div class="form-group">
                <label asp-for="Distance" class="control-label"></label>
                <input asp-for="Distance" class="form-control" />
                <span asp-validation-for="Distance" class="text-danger"></span>
            </div>
            <div class="form-group">
                @*<a class="btn btn-danger" asp-controller="Home" asp-action="DeleteAtheleteTest" asp-route-id="@Model.TestSubscriptionID">Delete Athelete</a>*@
                <input type="submit" value="Delete" style="float: right;margin-left:5px;" class="btn btn-primary" asp-action="DeleteAtheleteTest" />
                <input type="submit" value="Update" style="float: right" class="btn btn-primary" asp-action="updateAthelete" />
            </div>
        </form>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
<script>
    $(document).ready(function () {
        var url = window.location.href;
        var testId = url.substring(url.lastIndexOf('/') + 1);
        $("#testId").val(testId);
    });
</script>